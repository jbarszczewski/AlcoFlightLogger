@model IEnumerable<AlcoFlightLogger.Models.FlightViewModels.FlightViewModel>

@{
    ViewData["Title"] = "Flights";
}

@section Scripts {
    <script src="~/lib/angular/angular.min.js"></script>
    <script src="~/js/app-flights.js"></script>
    <script src="~/js/flightsController.js"></script>
}

<div class="row" ng-app="app-flights">
    <div class="col-md-6 col-md-offset-3" ng-controller="flightsController as vm">
        <div class="text-danger" ng-show="vm.errorMessage">{{ vm.errorMessage }}</div>
        <div class="text-center" ng-show="vm.isBusy"><i class="fa fa-spinner fa-spin"></i> Processing...</div>
        <button class="btn btn-primary btn-lg" ng-click="vm.postFlight()">I fly!</button>
        <table class="table table-responsive table-striped">
            <tr ng-repeat="flight in vm.flights">
                <td>{{ flight.name }}</td>
                <td>{{ flight.date | date:'dd/MM/yyyy h:mma' }}</td>
                <td>{{ flight.longitude }}</td>
                <td>{{ flight.latitude }}</td>
            </tr>
        </table>
    </div>
</div>